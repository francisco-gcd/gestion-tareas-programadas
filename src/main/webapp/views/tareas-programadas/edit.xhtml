<?xml version="1.0"?>

<!-- 
	Vista que mostrara la tabla con tareas programadas que tiene el sistema
 -->
<f:view
	xmlns="http://www.w3.org/1999/xhtml" xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui" xmlns:ui="http://java.sun.com/jsf/facelets"
>
	<h:head />
	<h:body lang="es">
		<h:form id="frm" lang="es">
		    <f:passThroughAttribute name="autocomplete" value="off"/>
			<p:messages id="messages" showDetail="true" closable="true" globalOnly="true"/>

			<!-- Seccion de datos generales de la Tarea Programada -->
			<h3>#{i18n['es.pongo.liferay.tareasprogramadas.datos-generales']}</h3>
			<p:panelGrid layout="grid" columns="2" columnClasses="ui-g-12 ui-md-3, ui-g-12 ui-md-9" styleClass="ui-fluid">
				<p:outputLabel for="grupo" value="#{i18n['es.pongo.liferay.tareasprogramadas.grupo']}"/>
				<p:inputText id="grupo" value="#{TareasProgramadasEdit.tareaProgamada.grupo}" rendered="#{TareasProgramadasEdit.tareaProgamada.esNueva}"/>
				<h:outputText value="#{TareasProgramadasEdit.tareaProgamada.grupo}" rendered="#{!TareasProgramadasEdit.tareaProgamada.esNueva}"/>

				<p:outputLabel for="nombre" value="#{i18n['es.pongo.liferay.tareasprogramadas.nombre']}"/>
				<p:inputText id="nombre" value="#{TareasProgramadasEdit.tareaProgamada.nombre}" rendered="#{TareasProgramadasEdit.tareaProgamada.esNueva}"/>
				<h:outputText value="#{TareasProgramadasEdit.tareaProgamada.nombre}" rendered="#{!TareasProgramadasEdit.tareaProgamada.esNueva}"/>

				<p:outputLabel for="descripcion" value="#{i18n['es.pongo.liferay.tareasprogramadas.descripcion']}"/>
				<p:inputTextarea id="descripcion" value="#{TareasProgramadasEdit.tareaProgamada.descripcion}" rendered="#{TareasProgramadasEdit.tareaProgamada.esNueva}"/>
				<h:outputText value="#{TareasProgramadasEdit.tareaProgamada.descripcion}" rendered="#{!TareasProgramadasEdit.tareaProgamada.esNueva}"/>

				<p:outputLabel for="tipoAlmacenamiento" value="#{i18n['es.pongo.liferay.tareasprogramadas.tipo-almacenamiento']}"/>
				<p:selectOneMenu id="tipoAlmacenamiento" value="#{TareasProgramadasEdit.tareaProgamada.tipoAlmacenamiento}" rendered="#{TareasProgramadasEdit.tareaProgamada.esNueva}">
					<f:selectItems value="#{ParametricasUtil.tiposAlmacenamientos}" />
				</p:selectOneMenu>
				<h:outputText value="#{TareasProgramadasEdit.tareaProgamada.tipoAlmacenamiento}" rendered="#{!TareasProgramadasEdit.tareaProgamada.esNueva}"/>
			</p:panelGrid>
			
			<!-- Seccion de clase que gestionara la Tarea Programada -->
			<h3>#{i18n['es.pongo.liferay.tareasprogramadas.datos-message-listener']}</h3>
			<p:panelGrid layout="grid" columns="2" columnClasses="ui-g-12 ui-md-3, ui-g-12 ui-md-9" styleClass="ui-fluid">
				<p:outputLabel for="nombreClase" value="#{i18n['es.pongo.liferay.tareasprogramadas.nombre-clase']}"/>
				<p:inputText id="nombreClase" value="#{TareasProgramadasEdit.tareaProgamada.nombreClase}" rendered="#{TareasProgramadasEdit.tareaProgamada.esNueva}"/>
				<h:outputText value="#{TareasProgramadasEdit.tareaProgamada.nombreClase}" rendered="#{!TareasProgramadasEdit.tareaProgamada.esNueva}"/>

				<p:outputLabel for="portletId" value="#{i18n['es.pongo.liferay.tareasprogramadas.portletId']}"/>
				<p:inputText id="portletId" value="#{TareasProgramadasEdit.tareaProgamada.portletId}" rendered="#{TareasProgramadasEdit.tareaProgamada.esNueva}"/>
				<h:outputText value="#{TareasProgramadasEdit.tareaProgamada.portletId}" rendered="#{!TareasProgramadasEdit.tareaProgamada.esNueva}"/>
			</p:panelGrid>
			
			<!-- Seccion del trigger la Tarea Programada -->
			<h3>#{i18n['es.pongo.liferay.tareasprogramadas.datos-trigger']}</h3>
			<p:panelGrid layout="grid" columns="2" columnClasses="ui-g-12 ui-md-3, ui-g-12 ui-md-9" styleClass="ui-fluid">
				<p:outputLabel for="tipoTrigger" value="#{i18n['es.pongo.liferay.tareasprogramadas.tipo-trigger']}"/>
				<p:selectOneMenu id="tipoTrigger" value="#{TareasProgramadasEdit.tareaProgamada.tipoTrigger}">
					<f:selectItems value="#{ParametricasUtil.tiposTrigger}" />
				</p:selectOneMenu>
			
				<p:outputLabel for="expresion" value="#{i18n['es.pongo.liferay.tareasprogramadas.expresion']}"/>
				<p:inputText id="expresion" value="#{TareasProgramadasEdit.tareaProgamada.expresion}"/>
			</p:panelGrid>
			
			<p:spacer />
			<ul class="inline text-right">
				<li><p:commandButton icon="fa fa-fw fa-check" value="#{i18n['save']}" action="#{TareasProgramadasActions.guardar}" update=":frm"/></li>
				<li><p:commandButton icon="fa fa-fw fa-close" value="#{i18n['cancel']}" action="NAVIGATION_TO_LISTA_TAREAS_PROGRAMADAS" /></li>
			</ul>
		</h:form>

		<!-- Dialogo de Carga para las acciones AJAX -->
		<p:ajaxStatus onstart="PF('AJAXstatus').show();" onsuccess="PF('AJAXstatus').hide();" />
		<p:dialog widgetVar="AJAXstatus" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
			<em class="fa fa-spinner fa-pulse fa-lg fa-fw" aria-hidden="true" /> <p:spacer /> <h:outputText value="#{i18n['loading']}" />
		</p:dialog>	
	</h:body>
</f:view>
